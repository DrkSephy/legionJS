<html>
<head>
  <meta charset="utf-8">
  <title>Mocha Tests</title>
  <link rel="stylesheet" href="../node_modules/mocha/mocha.css" />
</head>
<body>
  <div id="mocha"></div>
  <script src="../node_modules/mocha/mocha.js"></script>
  <script src="../node_modules/chai/chai.js"></script>
  <script src="../node_modules/requirejs/require.js"></script>
  <script type="text/javascript">
    requirejs.config({
        baseUrl: "../",

        paths: {
          'legion': [
            'src_instrumented/legion',
            'src/legion'
          ],
          'pixi':  'node_modules/pixi.js/bin/pixi',
          'tests': 'tests/tests'
        }
    });
  </script>

  <script>
    mocha.setup('bdd');
    mocha.reporter('html');

    requirejs([
      'legion',
      'tests/legion',
      'tests/class',
      'tests/entity',
      'tests/environment',
      'tests/graphics',
      'tests/timer',
      'tests/util',
      'tests/game',
      'tests/input',
      'tests/event'
    ], function() {
      if (window.mochaPhantomJS) {
        mochaPhantomJS.run(); 
      } else {
        mocha.run();
      }
      
    });
    
  </script>
</body>
</html>